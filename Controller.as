package  {	import flash.events.MouseEvent;		public class Controller {		var selectedElement: Element;		var targetTile: Tile;		var model:Model;		var hoverTarget:Tile;				public function Controller(m:Model) {			this.model = m;		}		public function gridClickHandler(evt:MouseEvent):void{			handleElement(this.getSelectedTile(evt));		}				public function handleElement(t:Tile):void{			if(t.getElement() != null){				selectedElement= t.getElement();				//check was fürn typ!			}			if(t.getElement() == null && selectedElement is Unit){				targetTile = t;				var u:Unit = selectedElement as Unit;				u.gotoTarget(t.gx,t.gy);				selectedElement = null;				targetTile = null;			}		}				public function gridHoverHandler(evt:MouseEvent):void{			if (hoverTarget != null) hoverTarget.alpha = 1;			hoverTarget = getSelectedTile(evt);			hoverTarget.alpha = 0.5;		}				public function getSelectedTile(evt:MouseEvent):Tile{			var w:Number = model.grid.getTile(0,0).width;			var h:Number = model.grid.getTile(0,0).height;			var gx:int = (model.grid.mouseX+w/2)/w;			var gy:int = (model.grid.mouseY+h/2)/h;						return model.grid.getTile(gx,gy);		}	}	}